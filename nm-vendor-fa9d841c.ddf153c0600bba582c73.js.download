(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[30],{"./node_modules/@loadable/component/dist/loadable.esm.js":function(e,n,t){"use strict";t.d(n,"b",(function(){return O}));var r=t("./node_modules/react/index.js"),o=t.n(r),a=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),i=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),s=t("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),c=t("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),l=t("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),u=t.n(l);function d(e,n){if(!e){var t=new Error("loadable: "+n);throw t.framesToPop=1,t.name="Invariant Violation",t}}function m(e){console.warn("loadable: "+e)}var f=o.a.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var h=function(e){return e};function g(e){var n=e.resolve,t=void 0===n?h:n,r=e.render,l=e.onLoad;function u(e,n){void 0===n&&(n={});var u=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),m={};function p(e){return n.cacheKey?n.cacheKey(e):u.resolve?u.resolve(e):null}var h,g=function(e){function o(t){var r;return(r=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:p(t)},r.promise=null,d(!t.__chunkExtractor||u.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor?(!1===n.ssr||(u.requireAsync(t).catch((function(){})),r.loadSync(),t.__chunkExtractor.addChunk(u.chunkName(t))),Object(s.a)(r)):(!1!==n.ssr&&u.isReady&&u.isReady(t)&&r.loadSync(),r)}Object(c.a)(o,e),o.getDerivedStateFromProps=function(e,n){var t=p(e);return Object(i.a)({},n,{cacheKey:t,loading:n.loading||n.cacheKey!==t})};var f=o.prototype;return f.componentDidMount=function(){this.mounted=!0,this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()},f.componentDidUpdate=function(e,n){n.cacheKey!==this.state.cacheKey&&(this.promise=null,this.loadAsync())},f.componentWillUnmount=function(){this.mounted=!1},f.safeSetState=function(e,n){this.mounted&&this.setState(e,n)},f.triggerOnLoad=function(){var e=this;l&&setTimeout((function(){l(e.state.result,e.props)}))},f.loadSync=function(){if(this.state.loading)try{var e=u.requireSync(this.props),n=t(e,{Loadable:y});this.state.result=n,this.state.loading=!1}catch(e){this.state.error=e}},f.getCacheKey=function(){return p(this.props)||JSON.stringify(this.props)},f.getCache=function(){return m[this.getCacheKey()]},f.setCache=function(e){m[this.getCacheKey()]=e},f.loadAsync=function(){var e=this;if(!this.promise){var r=this.props,o=(r.__chunkExtractor,r.forwardedRef,Object(a.a)(r,["__chunkExtractor","forwardedRef"]));this.promise=u.requireAsync(o).then((function(r){var o=t(r,{Loadable:y});n.suspense&&e.setCache(o),e.safeSetState({result:t(r,{Loadable:y}),loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(n){e.safeSetState({error:n,loading:!1})}))}return this.promise},f.render=function(){var e=this.props,t=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,Object(a.a)(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,l=c.error,u=c.loading,d=c.result;if(n.suspense){var m=this.getCache();if(!m)throw this.loadAsync();return r({loading:!1,fallback:null,result:m,options:n,props:Object(i.a)({},s,{ref:t})})}if(l)throw l;var f=o||n.fallback||null;return u?f:r({loading:u,fallback:f,result:d,options:n,props:Object(i.a)({},s,{ref:t})})},o}(o.a.Component),k=(h=g,function(e){return o.a.createElement(f.Consumer,null,(function(n){return o.a.createElement(h,Object.assign({__chunkExtractor:n},e))}))}),y=o.a.forwardRef((function(e,n){return o.a.createElement(k,Object.assign({forwardedRef:n},e))}));return y.preload=function(e){u.requireAsync(e)},y.load=function(e){return u.requireAsync(e)},y}return{loadable:u,lazy:function(e,n){return u(e,Object(i.a)({},n,{suspense:!0}))}}}var k=g({resolve:function(e,n){var t=n.Loadable,r=e.__esModule?e.default:e.default||e;return u()(t,r,{preload:!0}),r},render:function(e){var n=e.result,t=e.props;return o.a.createElement(n,t)}}),y=k.loadable,b=k.lazy,_=g({onLoad:function(e,n){e&&n.forwardedRef&&("function"==typeof n.forwardedRef?n.forwardedRef(e):n.forwardedRef.current=e)},render:function(e){var n=e.result,t=e.loading,r=e.props;return!t&&r.children?r.children(n):null}}),v=_.loadable,E=_.lazy,j="undefined"!=typeof window;function O(e,n){void 0===e&&(e=function(){});var t=(void 0===n?{}:n).namespace,r=void 0===t?"":t;if(!j)return m("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var o=null;if(j){var a=document.getElementById(p(r));a&&(o=JSON.parse(a.textContent))}if(!o)return m("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var i=!1;return new Promise((function(n){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,r=t.push.bind(t);function a(){o.every((function(e){return t.some((function(n){return n[0].indexOf(e)>-1}))}))&&(i||(i=!0,n(),e()))}t.push=function(){r.apply(void 0,arguments),a()},a()}))}var S=y;S.lib=v,b.lib=E;n.a=S},"./node_modules/@sky-uk/apollo-content/lib/PageContent.js":function(e,n,t){"use strict";var r,o=t("./node_modules/@sky-uk/apollo-content/lib/chunk-e4d5d215.js"),a=t("./node_modules/react/index.js"),i=t.n(a),s=t("./node_modules/@sky-uk/apollo-content/node_modules/graphql-tag/src/index.js"),c=t.n(s),l=t("./node_modules/@apollo/react-components/lib/react-components.esm.js"),u=t("./node_modules/@sky-uk/apollo-content/lib/chunk-7d1f3489.js");const d=c()(r||(r=Object(o.a)(["query{content @client{page(location:$location locale:$locale){contentId metadata{contentId title canonical description keywords robots}pods{contentId features component children{","}reference contract{","}costings{recurring{","}oneOff{","}negativeRecurring{","}negativeOneOff{","}existingCustomer{recurring{","}oneOff{","}}}","sections{","}countdowns{","}}notifications{","}}}}"])),u.c,u.a,u.e,u.e,u.e,u.e,u.e,u.e,u.d,u.d,u.f,u.b);n.a=e=>{let{children:n,location:t,locale:r,fetchPolicy:a,...s}=e;return i.a.createElement(l.b,Object(o.b)({query:d,fetchPolicy:a,variables:{location:t,locale:r}},s),n)}},"./node_modules/@sky-uk/apollo-content/lib/chunk-065cd767.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));const r=e=>null==e?void 0:e.replace("_","-").toLowerCase()},"./node_modules/@sky-uk/apollo-content/lib/chunk-284ad712.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("./node_modules/tunnel/index.js"),o=t("./node_modules/axios/index.js"),a=t.n(o);const i=e=>{let{VCAP_SERVICES:n}=e;const t=a.a.create({timeout:5e3});if(n){const e=JSON.parse(n),{host:o,port:a,username:i,password:s}=e.proxy[0].credentials;t.defaults.proxy=!1,t.defaults.httpsAgent=Object(r.httpsOverHttp)({proxy:{host:o,port:a,proxyAuth:"".concat(i,":").concat(s)}})}return t}},"./node_modules/@sky-uk/apollo-content/lib/chunk-30ed4d6f.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t("./node_modules/@sky-uk/apollo-content/lib/chunk-aa8a75e5.js"),o=t("./node_modules/@sky-uk/apollo-content/lib/chunk-5599cec2.js");const a=function(){let{text:e="",uid:n=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{text:e,contentId:Object(r.a)(o.a,n),__typename:"Copyright"}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e&&e.length?e.map(a):[]},s=/^\d+$/,c=e=>e.reduce((e,n)=>{let{variant:t={}}=n;const{title:r,key:o,thumbnail:a,assets:i,colour:s}=t;return(a||i)&&e.push({title:r,colour:s,key:o,thumbnail:a&&{src:a.url,alt:a.description}||{},assets:(null==i?void 0:i.map(e=>({src:e.url,alt:e.description})))||[]}),e},[]),l=e=>e.reduce((e,n)=>{let{campaign:t}=n;if(t){const{content_layout:n,center:r,background:o,invert:a,alternative_asset:i}=t,s=null==i?void 0:i.url;e.push({layout:n,center:r,background:o,invert:a,url:s})}return e},[]),u=function(){let{uid:e,asset:n,logo:t,focal_point:o="",caption:a="",copyrights:u=[],context:d=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{url:m,description:f}=n||{},{url:p,description:h}=t||{},[g=12,k=12]=o.split(":").filter(e=>s.test(e)).map(e=>Number(e)),y=e=>e.reduce((e,n)=>{const{campaign:{alternative_asset:t,background:r,invert:o}={}}=n,a=null==t?void 0:t.url;return a&&e.push({url:a,background:r,invert:o}),e},[]);return{contentId:Object(r.a)("media",e),src:m||"",alt:f||"",logo:{src:p||"",alt:h||"",__typename:"MediaImage"},focalPoint:{x:g,y:k},captionText:a,copyrights:i(u),context:y(d),variants:c(d),heroes:l(d),__typename:"Media"}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(u)}},"./node_modules/@sky-uk/apollo-content/lib/chunk-5599cec2.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return i}));const r="copyright",o="form_field",a="customer_credit_agreement",i=(e,n)=>t=>async function(){try{return await n(t)(...arguments)}catch(n){throw new Error("Error fetching ".concat(e," content::").concat(null==n?void 0:n.message))}}},"./node_modules/@sky-uk/apollo-content/lib/chunk-7d1f3489.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return l})),t.d(n,"d",(function(){return c})),t.d(n,"e",(function(){return o})),t.d(n,"f",(function(){return s}));const r="\n  contentId\n  information\n",o="\n  contentId\n  legend\n  disclaimer\n  prefix\n  suffix\n  zeroCost\n",a="\n  contentId\n  src\n  alt\n  logo\n  focalPoint\n  captionText\n  copyrights {\n    ".concat("\n  text\n  contentId\n","\n  },\n  context\n  variants\n  heroes\n"),i="\n  text\n  url\n  key\n  description\n  accessibleTitle\n  media {\n    ".concat(a,"\n  }\n"),s="\n  contentId\n  bodyText\n  startDate\n  endDate\n  experience\n",c="\n  key\n  heading\n  subHeading\n  bodyText\n  disclaimer\n  highlight\n  ctas {\n    ".concat(i,"\n  }\n  images {\n    ").concat("\n  desktop\n  tablet\n  mobile\n  altText\n","\n  }\n  terms {\n    ").concat("\n  contentId\n  key\n  heading\n  legalIntro\n  bodyText\n","\n  }\n  media {\n    ").concat(a,"\n  }\n"),l="\n  contentId\n  features\n  component\n  reference\n  countdowns {\n    ".concat(s,"\n  }\n  contract {\n    ").concat(r,"\n  }\n  costings {\n    recurring {\n      ").concat(o,"\n    }\n    oneOff {\n      ").concat(o,"\n    }\n    negativeRecurring {\n      ").concat(o,"\n    }\n    negativeOneOff {\n      ").concat(o,"\n    }\n    existingCustomer {\n      recurring { \n        ").concat(o," \n      }\n      oneOff {\n        ").concat(o,"\n      }\n    }\n  }\n  ").concat(c,"\n  sections {\n    ").concat(c,"\n  }\n"),u="\n  contentId\n  text\n  url\n  key\n  theme\n  startDate\n  endDate\n"},"./node_modules/@sky-uk/apollo-content/lib/chunk-a0f9e08e.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t("./node_modules/@sky-uk/apollo-content/lib/chunk-30ed4d6f.js");const o=function(){let{text:e="",url:n="",key:t="",description:o="",accessible_title:a="",media:i=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{text:e,url:n,key:t,description:o,accessibleTitle:a,media:Object(r.a)(i),__typename:"CTA"}},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map(e=>o(e)):[]}},"./node_modules/@sky-uk/apollo-content/lib/chunk-a8d2c748.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));const r=(e,n)=>e.map(n).reduce((e,n)=>e.concat(n),[]),o=function(){let{keys:e=[],message:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.map(e=>({key:e,message:n,__typename:"Validation"}))},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null!=e&&e.length?r(e,o):[]}},"./node_modules/@sky-uk/apollo-content/lib/chunk-aa8a75e5.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));const r=(e,n)=>e&&n?[e,n].join("."):""},"./node_modules/@sky-uk/apollo-content/lib/chunk-e4d5d215.js":function(e,n,t){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}function o(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return r}))},"./node_modules/@sky-uk/apollo-content/lib/formFields.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t("./node_modules/@sky-uk/apollo-content/lib/chunk-065cd767.js"),o=t("./node_modules/@sky-uk/apollo-content/lib/chunk-aa8a75e5.js"),a=t("./node_modules/@sky-uk/apollo-content/lib/chunk-5599cec2.js"),i=t("./node_modules/@sky-uk/apollo-content/lib/chunk-a0f9e08e.js"),s=(t("./node_modules/tunnel/index.js"),t("./node_modules/axios/index.js"),t("./node_modules/@sky-uk/apollo-content/lib/chunk-284ad712.js")),c=t("./node_modules/@sky-uk/apollo-content/lib/chunk-a8d2c748.js");const l=function(){let{id:e="",type:n="",attributes:{label:t="",placeholder_text:r="",help_text:a="",form_field_options:s=[],disclaimer:l="",validation:u=[],ctas:d,key:m=""}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{contentId:Object(o.a)(n,e),label:t,placeholderText:r,helpText:a,options:s.map(e=>{let{text:n,value:t}=e;return{text:n,value:t,__typename:"Option"}}),disclaimer:l,validations:Object(c.a)(u),ctas:Object(i.a)(d),key:m,__typename:"FormField"}},u=Object(a.d)(a.b,e=>{let{url:n,env:t,locale:o,VCAP_SERVICES:i}=e;return async(e,c)=>{var u;let{formFields:d,locale:m}=c;const f={url:"".concat(n,"/").concat(a.b),params:{env:t,locale:Object(r.a)(m||o),query:{key:{$in:d}}}},p=Object(s.a)({VCAP_SERVICES:i});return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(l)}(null===(u=(await p(f)).data)||void 0===u?void 0:u.data)}})},"./node_modules/@sky-uk/apollo-content/lib/index.es.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));t("./node_modules/react/index.js"),t("./node_modules/@sky-uk/apollo-content/node_modules/graphql-tag/src/index.js");var r=t("./node_modules/@sky-uk/apollo-content/lib/chunk-5599cec2.js"),o=(t("./node_modules/tunnel/index.js"),t("./node_modules/axios/index.js"),t("./node_modules/@sky-uk/apollo-content/lib/chunk-284ad712.js")),a=()=>({__typename:"Content"});Object(r.d)(r.c,e=>{let{url:n,env:t,VCAP_SERVICES:r,fullUrl:a}=e;return async()=>{const e=Object(o.a)({VCAP_SERVICES:r}),{data:i}=await e({url:a||"".concat(n,"/test_cca?env=").concat(t)});return i}})},"./node_modules/@sky-uk/apollo-content/node_modules/graphql-tag/src/index.js":function(e,n,t){var r=t("./node_modules/graphql/language/parser.mjs").parse;function o(e){return e.replace(/[\s,]+/g," ").trim()}var a={},i={};var s=!0;var c=!1;function l(e){var n=o(e);if(a[n])return a[n];var t=r(e,{experimentalFragmentVariables:c});if(!t||"Document"!==t.kind)throw new Error("Not a valid GraphQL document.");return t=function e(n,t){var r=Object.prototype.toString.call(n);if("[object Array]"===r)return n.map((function(n){return e(n,t)}));if("[object Object]"!==r)throw new Error("Unexpected input.");t&&n.loc&&delete n.loc,n.loc&&(delete n.loc.startToken,delete n.loc.endToken);var o,a,i,s=Object.keys(n);for(o in s)s.hasOwnProperty(o)&&(a=n[s[o]],"[object Object]"!==(i=Object.prototype.toString.call(a))&&"[object Array]"!==i||(n[s[o]]=e(a,!0)));return n}(t=function(e){for(var n,t={},r=[],a=0;a<e.definitions.length;a++){var c=e.definitions[a];if("FragmentDefinition"===c.kind){var l=c.name.value,u=o((n=c.loc).source.body.substring(n.start,n.end));i.hasOwnProperty(l)&&!i[l][u]?(s&&console.warn("Warning: fragment with name "+l+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),i[l][u]=!0):i.hasOwnProperty(l)||(i[l]={},i[l][u]=!0),t[u]||(t[u]=!0,r.push(c))}else r.push(c)}return e.definitions=r,e}(t),!1),a[n]=t,t}function u(){for(var e=Array.prototype.slice.call(arguments),n=e[0],t="string"==typeof n?n:n[0],r=1;r<e.length;r++)e[r]&&e[r].kind&&"Document"===e[r].kind?t+=e[r].loc.source.body:t+=e[r],t+=n[r];return l(t)}u.default=u,u.resetCaches=function(){a={},i={}},u.disableFragmentWarnings=function(){s=!1},u.enableExperimentalFragmentVariables=function(){c=!0},u.disableExperimentalFragmentVariables=function(){c=!1},e.exports=u},"./node_modules/@sky-uk/apollo-error/dist/index.es.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return I})),t.d(n,"b",(function(){return N})),t.d(n,"c",(function(){return w})),t.d(n,"d",(function(){return O}));t("./node_modules/@apollo/react-ssr/lib/react-ssr.esm.js");var r=t("./node_modules/@apollo/react-components/lib/react-components.esm.js"),o=t("./node_modules/@apollo/react-common/lib/react-common.esm.js"),a=t("./node_modules/apollo-link-error/lib/bundle.esm.js"),i=t("./node_modules/reselect/es/index.js"),s=t("./node_modules/react/index.js"),c=t.n(s),l=t("./node_modules/react-router/esm/react-router.js"),u=t("./node_modules/@sky-uk/templates/dist/Error.js"),d=t("./node_modules/@sky-uk/selectors/dist/selectErrorContent.js"),m=t("./node_modules/@sky-uk/apollo-content/lib/PageContent.js"),f=t("./node_modules/@sky-uk/sky-tags-events/dist/index.es.js");var p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"errors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"globalErrors"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"errorFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globalErrorHistory"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"errorFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"errorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GlobalError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attemptsRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cause"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCodes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorDetails"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sessionId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:155,source:{body:'#import "./error-fragment.gql"\n\nquery errors {\n  globalErrors @client {\n    ...errorFragment\n  }\n  globalErrorHistory @client {\n    ...errorFragment\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};const h="FATAL",g="ERROR",k=null,y=h,b=0,_=e=>{if(!e)return!1;const{severity:n=y}=e;return null===n||n===h},v=e=>!!e&&_(e.error),E=e=>{let{message:n="",severity:t=y,attemptsRemaining:r=b,cause:{errorCodes:o=[],errorDetails:a=[],statusCode:i=null}={},sessionId:s=""}=e;return{message:n,severity:t,attemptsRemaining:r,cause:{errorCodes:o,statusCode:i,errorDetails:a,__typename:"ErrorCause"},sessionId:s,__typename:"Error"}},j=(e,n)=>{const{globalErrors:t,globalErrorHistory:r}=e.readQuery({query:p}),o=[].concat(t).concat(n).filter(Boolean);e.writeQuery({query:p,data:{globalErrors:o,globalErrorHistory:r}})},O=e=>{let{cache:n,errorHandler:t}=e;return Object(a.a)(e=>{let{graphQLErrors:r,networkError:o,operation:a,response:i}=e;const{severity:s,errorPassThru:c}=a.getContext();"warning"!==s?c||(r&&r.forEach(e=>{_(e)&&(t&&t(e),n&&j(n,{type:"GraphQLError",error:E(e),__typename:"GlobalError"}))}),o&&(t&&t(o),n&&j(n,{type:"NetworkError",error:E({message:null==o?void 0:o.message,severity:g,attemptsRemaining:k,cause:{errorCodes:401===o.statusCode?["unauthenticated"]:["failed.to.fetch"],statusCode:o.statusCode||500}}),__typename:"GlobalError"}))):i&&i.errors&&(i.errors=null)})},S=e=>"422"===e?"ineligible":"error",x=e=>(e.match(/\d{3}/)||["500"])[0],C=Object(i.a)([function(){let{error:{error:e}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}],(function(){let{message:e="",cause:{statusCode:n,errorCodes:[t]=[],errorDetails:[{reason:r}={}]=[]}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=n||x(e);return{statusCode:o,code:t,message:e,reason:r,type:S(o)}})),w={globalErrors:[],globalErrorHistory:[]},A=Object(l.k)(e=>{let{history:n,error:t}=e;const{statusCode:r}=C(t);return!["error","ineligible"].some(e=>n.location.pathname.includes(e))&&n.push("422"===r?"/ineligible":"/error"),null}),N=e=>{let{children:n}=e;return c.a.createElement(r.b,{query:p,fetchPolicy:"cache-only"},e=>{let{data:{globalErrors:[t]=[]}={}}=e;return n(t)})},I=e=>{let{children:n,ErrorComponent:t=A}=e;return c.a.createElement(N,null,e=>c.a.createElement(c.a.Fragment,null,e&&c.a.createElement(t,{error:e}),n))},D=e=>{let{children:n}=e;return c.a.createElement(o.a,null,e=>{const{globalErrors:t,globalErrorHistory:r}=e.readQuery({query:p}),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>v(e))}(t).slice(-1);return o.length<t.length&&e.writeQuery({query:p,data:{globalErrors:o,globalErrorHistory:[...t,...r]}}),n(t)})};function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(null,arguments)}const R=(e,n,t)=>({error:Object(d.a)({content:e,history:n,error:t})}),F=e=>(null==e?void 0:e.split("/"))||[],T=()=>!1,q=e=>{let{base:n,cacheError:t,children:r,content:o,custom:a,history:i}=e;return Object(s.useEffect)(()=>{const e="422"===(null==t?void 0:t.statusCode)?"ineligible":"error",{pathname:r}=i.location,o=n?"".concat(n,"_").concat(e):e,s=[n,...F(r),e].filter(Boolean);Object(f.f)(o,s,a)}),c.a.createElement(s.Fragment,null,c.a.createElement(u.a,{componentProps:R(o,i,t)}),r)};Object(l.k)(e=>{let{children:n,...t}=e;return c.a.createElement(N,null,e=>e?c.a.createElement(m.a,{location:"error"},e=>{let{error:n,data:r}=e;return null!=r&&r.content?c.a.createElement(D,null,e=>{let[n]=e;return c.a.createElement(q,L({},t,{content:r.content,cacheError:n}),c.a.createElement(l.a,{when:!n||v(n),message:T}))}):n?c.a.createElement(q,t,c.a.createElement(l.a,{when:!0,message:T})):null}):n)})},"./node_modules/@sky-uk/cookies/dist/index.es.js":function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return f})),t.d(n,"d",(function(){return l})),t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return m}));var r=t("./node_modules/universal-cookie/es6/index.js");const o={SSO_SECURE_TOKEN:"skyCEsidsso01",SSO_SIGNALLING_TOKEN:"__Secure-skyidsessionstate",OAUTH_TOKEN:"skyCEsa01",POLARIS_SPLIT:"polarisSplit",COUNTRY_AKA:"countryAKA",GEO:"geo",USER_NAME:"uifd",UUID:"uuid",SKY_SESSION_ID:"sky-session-id"},a="GB",i="IE",s=["SSO_SECURE_TOKEN","OAUTH_TOKEN","SSO_SIGNALLING_TOKEN"],c=(e,n)=>e&&n.find(n=>-1!==e.indexOf(n)),l=e=>{let n;switch(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[a,i];return c(e.get(o.GEO),n)||c(e.get(o.COUNTRY_AKA),n)}(e)){case a:n="en-GB";break;case i:n="en-IE";break;default:n="en-GB"}return n},u=(e,n,t)=>{const r={maxAge:432e5,domain:t,secure:!0,overwrite:!0,httpOnly:!1};e.set(o.SKY_SESSION_ID,n,r)},d=e=>{const{cookies:n=new r.a}=e||{};return n.get(o.SKY_SESSION_ID)},m=e=>{const{cookies:n=new r.a}=e||{};return n.get(o.UUID)},f=e=>{const n=e||{},t=n.cookies||n.get&&n||new r.a,{tokens:a=s}=n;let i;return t&&a.find(e=>(i=t.get(o[e]),Boolean(i))),i}}}]);